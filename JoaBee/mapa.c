#include <stdio.h>
#include <stdlib.h>
#include <windows.h>
#include <time.h>
#include <conio.h>

#include "coniof.h"
#include "frames.h"

int mapa(int Y,char dead)
{
    int i=0; //contador

    char k=0,x=0,r=0;//contadores do tipo char e variavel retornada pela função
    const char floor[] = {"######################  ####################  ##################  ##################   ################   #####################   ##################################   ###################   #################   ##############   ###########   ################   ########################   ###############   #################   ##############   ###########   ################   ########################   ###############   #################   ##############   ###########   ################   ########################   ###############   #################   ##############   ###########   ################   ########################   ###############   #################   ##############   ###########   ################   ########################   ###############   #################   ##############   ###########   ################   ########################   ###############   #################   ##############   ###########   ################   ###################### ###############################################################################################################################################"};


    const short monsters[]= {88,444};

    static int M=0,u=0;

    if(dead=='t')

    {
        M=0;

        return 0;

    }

    k=Y-1;


    if(M < (strlen(floor) - 124))
    {

        textcolor(15);

        for(i = M ; i< 124 + M  ; i++)
        {
            gotoxy(x,Y);
            printf("%c",floor[i]);

            gotoxy(x,k);
            printf("%c",floor[i]);

            x++;

                if(i-M>=2 && i-M<6)
                {

                    if(floor[i]==' ')
                    {
                        r=200;
                    }
                }
            }

            if(i==monsters[u])
            {
                u++;
                r++;
            }

            M++;
        }

        else if(M == (strlen(floor) - 124))
            r=255;

        return r;
    }
